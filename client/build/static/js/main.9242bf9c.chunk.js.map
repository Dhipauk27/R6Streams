{"version":3,"sources":["history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/ChatInput.js","components/streams/ChatMessage.js","components/streams/Chat.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["createBrowserHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","axios","get","concat","sent","type","payload","stop","_x4","apply","this","arguments","StreamForm","renderInput","_ref","input","label","meta","console","log","className","error","touched","react_default","createElement","assign","autoComplete","_this","renderError","onSubmit","formValues","props","_ref2","style","marginLeft","marginTop","marginRight","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","fontSize","fontFamily","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread2","history","push","_x","_x2","StreamEdit","react_filepond","server","match","params","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","react_router_dom","to","components_Modal","renderContent","renderActions","state","ownProps","stream","streams","_ref5","_callee5","_context5","delete","_x6","StreamList","fetchStreams","currentUserId","_id","Icon","size","color","map","key","renderAdmin","isSignedIn","textAlign","Button","primary","marginBottom","Group","renderList","Divider","renderCreate","_callee2","_context2","_x3","ChatInput","message","_this2","Form","action","preventDefault","onSubmitMessage","setState","control","TextArea","placeholder","value","onChange","target","animated","Content","visible","hidden","ChatMessage","avatar","List","Item","Label","circular","URL","require","window","location","origin","replace","Chat","user","userName","messages","ws","WebSocket","addMessage","toConsumableArray","submitMessage","messageString","userAvatar","send","JSON","stringify","onopen","onmessage","evt","parse","data","onclose","_this3","streams_ChatInput","index","StreamShow","_this$props$stream$st","stream_url","createdAt","Segment","Grid","columns","stackable","Row","stretched","Column","computer","ReactPlayer_default","controls","url","playing","width","height","Dimmer","active","inverted","Loader","vertical","streams_Chat","Image","src","Header","as","Description","moment","format","GoogleAuth","onAuthChange","currentUser","getId","getBasicProfile","getName","generateAvatar","signIn","signOut","firstInitial","charAt","whiteSpaceIndex","indexOf","onSignInClick","onSignOutClick","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","payloadId","payloadName","payloadAvatar","HeaderContainer","components_GoogleAuth","App","react_router","path","exact","INITIAL_STATE","combineReducers","length","undefined","formReducer","_","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.9242bf9c.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'; \r\n\r\nexport default createBrowserHistory();","import history from '../history';\r\nimport axios from 'axios';\r\nimport {\r\n  SIGN_IN, \r\n  SIGN_OUT, \r\n  CREATE_STREAM,\r\n  FETCH_STREAMS,\r\n  FETCH_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM  \r\n} from './types';\r\n\r\n//action creators returned to authReducer\r\nexport const signIn = (userId, userName, userAvatar) => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payloadId: userId,\r\n    payloadName: userName,\r\n    payloadAvatar: userAvatar\r\n  }\r\n}\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  }\r\n}\r\n\r\nexport const createStream = formValues => async (dispatch, getState) => {\r\n  const { userId } = getState().auth;\r\n  const response = await axios.post('/streams', {...formValues, userId});\r\n\r\n  dispatch({ type: CREATE_STREAM, payload: response})\r\n  //navigate to root route\r\n  history.push('/');\r\n};\r\n\r\nexport const fetchStreams = () => async dispatch => {\r\n  const response = await axios.get('/streams')\r\n\r\n  dispatch({ type: FETCH_STREAMS, payload: response })\r\n};\r\n\r\nexport const fetchStream = (id) => async dispatch => {\r\n  const response = await axios.get(`/streams/edit/${id}`)\r\n\r\n  dispatch({ type: FETCH_STREAM, payload: response })\r\n}\r\n\r\nexport const editStream = (id, formValues) => async dispatch => {\r\n  const response = await axios.patch(`/streams/edit/${id}`, formValues);\r\n\r\n  dispatch({ type: EDIT_STREAM, payload: response});\r\n  history.push('/');\r\n}\r\n\r\nexport const deleteStream = (id) => async dispatch => {\r\n  await axios.delete(`/streams/${id}`);\r\n\r\n  dispatch({ type: DELETE_STREAM, payload: id});\r\n  history.push('/');\r\n}","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const CREATE_STREAM = 'CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM = 'FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM  = 'EDIT_STREAM';","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component {\r\n\r\n  renderError({ error, touched }) {\r\n    if(touched && error) {\r\n      return(\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">\r\n            {error}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = ({ input, label, meta }) => {\r\n    console.log('input',input)\r\n    const className = `field ${meta.error && meta.touched ? 'error': ''}`\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\"/>\r\n        {this.renderError(meta)}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  onSubmit = formValues => {\r\n    this.props.onSubmit(formValues);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ marginLeft: '25px', marginTop: '10px', marginRight: '900px'}}>\r\n        <form \r\n          onSubmit={this.props.handleSubmit(this.onSubmit)} \r\n          className=\"ui form error\">\r\n          <Field name=\"title\" component={this.renderInput} label=\"Enter title\"/>\r\n          <Field name=\"description\" component={this.renderInput} label=\"Enter description\"/>\r\n          <button className=\"ui button primary\">Submit</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {}\r\n\r\n  if(!formValues.title) {\r\n    errors.title = 'Title required'\r\n  }\r\n  if(!formValues.description) {\r\n    errors.description = 'Description required'\r\n  }\r\n\r\n  return errors;\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'StreamForm',\r\n  validate\r\n})(StreamForm);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamCreate extends React.Component {\r\n  \r\n  onSubmit = formValues => {\r\n    this.props.createStream(formValues)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style={{ fontSize: '16px', marginLeft: '25px', marginTop: '10px', fontFamily: 'verdana'}}>\r\n          Create a Stream\r\n        </div>\r\n        <StreamForm onSubmit={this.onSubmit}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, {createStream})(StreamCreate);","import React from 'react';\r\nimport { FilePond } from 'react-filepond';\r\nimport 'filepond/dist/filepond.min.css';\r\n\r\nclass StreamEdit extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <FilePond name=\"stream-file\" server={`/upload/${this.props.match.params.id}`} />\r\n      </div> \r\n    );\r\n  }\r\n}\r\n\r\nexport default StreamEdit;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst Modal = props => {\r\n  return ReactDOM.createPortal(\r\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\r\n      <div onClick={(e) => e.stopPropagation()} className=\"ui standard modal visible active\">\r\n      <div className=\"header\">{props.title}</div>\r\n        <div className=\"content\">\r\n          {props.content}\r\n        </div>\r\n        <div className=\"actions\">\r\n          {props.actions}\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector('#modal')\r\n  );\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport Modal from '../Modal';\r\nimport history from '../../history';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream, deleteStream } from '../../actions';\r\n\r\nclass StreamDelete extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id)\r\n  }\r\n\r\n  renderActions() {\r\n    const {id} = this.props.match.params;\r\n\r\n    return (\r\n      //as a substitute for <div>\r\n      //<> and </> same as react.fragment\r\n      <React.Fragment>\r\n        <button onClick={() => this.props.deleteStream(id)} className=\"ui button negative\">Delete</button>\r\n        <Link to=\"/\" className=\"ui button\">Cancel</Link>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  renderContent() {\r\n    return `Are you sure you want to delete the stream?`\r\n  }\r\n  \r\n  render() {\r\n    return(\r\n      <Modal \r\n        title=\"Delete Stream\"\r\n        content={this.renderContent()}\r\n        actions={this.renderActions()}\r\n        onDismiss={() => history.push('/')}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {stream: state.streams.stream}\r\n}\r\n\r\nexport default connect(mapStateToProps,{ fetchStream, deleteStream })(StreamDelete);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchStreams } from '../../actions';\r\nimport { Button, Icon, Divider } from 'semantic-ui-react';\r\n\r\nclass StreamList extends React.Component {\r\n  componentDidMount() {\r\n    //console.log(\"inside component did mount\")\r\n    this.props.fetchStreams();\r\n  }\r\n\r\n  renderAdmin(stream) {\r\n    if(stream.userId === this.props.currentUserId) {\r\n      return (\r\n        <div style={{ marginRight: '8px'}}>\r\n          <div className=\"right floated content\" style={{ marginTop: '10px'}}>\r\n            <Link to={`/streams/edit/${stream._id}`} style={{ marginRight: '5px'}}>\r\n              <Icon name = \"cloud upload\" size=\"large\" color=\"teal\"/>\r\n            </Link>\r\n            <Link to={`/streams/delete/${stream._id}`} >\r\n              <Icon name = \"trash alternate outline\" size=\"large\" color=\"grey\"/>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderList() {\r\n    console.log(\"streams\", this.props)\r\n    if(this.props.streams.streams) {\r\n      return this.props.streams.streams.map(stream => {\r\n        if(stream._id) {\r\n          return(\r\n            <div className=\"item\" key={stream._id} style={{ marginTop: '5px'}}>\r\n              {this.renderAdmin(stream)}\r\n              <i className=\"large middle aligned icon camera\" />\r\n              <div className=\"content\" style={{ marginTop: '10px', marginLeft: '5px'}}>\r\n                <Link to={`/streams/${stream._id}`} className=\"header\">\r\n                  {stream.title}\r\n                </Link>\r\n                <div className=\"description\">\r\n                  {stream.description}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  renderCreate() {\r\n    if(this.props.isSignedIn) {\r\n      return(\r\n        <div style={{ textAlign: 'right', marginRight: '10px'}}>\r\n          <Link to=\"/streams/new\">\r\n          <Button primary>\r\n            Create\r\n          </Button>\r\n          </Link>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{marginTop: '15px', marginLeft: '20px'}}>\r\n        <div style={{ fontSize: '15px', marginBottom: '-5px'}}>\r\n          <Icon.Group size='large' style={{ marginTop: '3px', marginLeft: '8px'}}>\r\n            <Icon name='list ul' size='small'/>\r\n          </Icon.Group>\r\n          &nbsp;\r\n          Video List\r\n        </div>\r\n        {/* <Divider /> */}\r\n        <div className=\"ui divided middle aligned list\" style={{ marginTop: '20px', marginLeft: '8px'}}>\r\n          {this.renderList()}\r\n        </div>\r\n        <Divider style={{ marginTop: '-10px'}}/>\r\n        {this.renderCreate()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { \r\n    streams: state.streams,\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);","import React, { Component } from 'react';\r\nimport { Form,TextArea, Button, Icon } from 'semantic-ui-react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass ChatInput extends Component {\r\n  static propTypes = {\r\n    onSubmitMessage: PropTypes.func.isRequired,\r\n  }\r\n  state = {\r\n    message: '',\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form\r\n        action=\".\"\r\n        onSubmit={e => {\r\n          e.preventDefault()\r\n          this.props.onSubmitMessage(this.state.message)\r\n          this.setState({ message: '' })\r\n        }}\r\n      >\r\n        <Form.Field\r\n          style={{ marginLeft: '-8px', fontSize: '12px', fontFamily: 'verdana'}}\r\n          control={TextArea}\r\n          placeholder='Type a message'\r\n          value={this.state.message}\r\n          onChange={e => this.setState({ message: e.target.value })}\r\n        />\r\n        <Button animated size='small' type=\"submit\" value={'Send'} style={{ marginLeft: '3px'}}>\r\n          <Button.Content visible>Send</Button.Content>\r\n          <Button.Content hidden>\r\n            <Icon name='arrow right' />\r\n          </Button.Content>\r\n        </Button>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChatInput\r\n","import React from 'react';\r\nimport { Label, List } from 'semantic-ui-react';\r\n\r\n\r\nexport default ({ avatar, message }) => {\r\n return(\r\n  <div>\r\n    <List>\r\n    <List.Item>\r\n      <Label circular size='large' style={{ marginLeft: '-12px', marginRight: '10px'}}>\r\n        {avatar}\r\n      </Label>\r\n      {message}\r\n    </List.Item>\r\n   </List>\r\n  </div>\r\n )\r\n}\r\n","import React, { Component } from 'react'\r\nimport ChatInput from './ChatInput'\r\nimport ChatMessage from './ChatMessage'\r\nimport { connect } from 'react-redux';\r\nimport {List} from 'semantic-ui-react';\r\nvar dotenv = require('dotenv');\r\n// const path = require('path')\r\n// dotenv.config({path: require('find-config')('.env')});\r\n\r\nvar URL = window.location.origin.replace(/^http/, 'ws');\r\nconsole.log('url in chat', URL)\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    name: this.props.user.userName,\r\n    messages: [],\r\n  }\r\n\r\n  ws = new WebSocket(URL)\r\n\r\n  componentDidMount() {\r\n    this.ws.onopen = () => {\r\n      // on connecting, do nothing but log it to the console\r\n      console.log('connected')\r\n    }\r\n\r\n    this.ws.onmessage = evt => {\r\n      // on receiving a message, add it to the list of messages\r\n      const message = JSON.parse(evt.data)\r\n      this.addMessage(message)\r\n    }\r\n\r\n    this.ws.onclose = () => {\r\n      console.log('disconnected')\r\n      // automatically try to reconnect on connection loss\r\n      this.setState({\r\n        ws: new WebSocket(URL),\r\n      })\r\n    }\r\n  }\r\n\r\n  addMessage = message => {\r\n    this.setState(state => ({ messages: [message, ...state.messages] }))\r\n  }\r\n\r\n  submitMessage = messageString => {\r\n    // on submitting the ChatInput form, send the message, add it to the list and reset the input\r\n    const message = { avatar: this.props.user.userAvatar, message: messageString }\r\n    this.ws.send(JSON.stringify(message))\r\n    this.addMessage(message)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <List>\r\n          <List.Item>\r\n            <List.Icon name='users' />\r\n            <List.Content>{this.props.user.userName}</List.Content>\r\n          </List.Item>\r\n          <List.Item style={{ marginLeft: '1px'}}>\r\n            <List.Icon name='mail' />\r\n            <List.Content>\r\n              <ChatInput\r\n              ws={this.ws}\r\n              onSubmitMessage={messageString => this.submitMessage(messageString)}\r\n              />\r\n            </List.Content>\r\n          </List.Item>\r\n          <List.Item style={{ marginTop: '14px'}}>\r\n          {this.state.messages.map((message, index) =>\r\n            <ChatMessage\r\n              key={index}\r\n              message={message.message}\r\n              avatar={message.avatar}\r\n            />,\r\n          )}\r\n          </List.Item>\r\n          \r\n        </List>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { user: state.auth }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Chat);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { fetchStream } from '../../actions';\r\nimport { Grid, Segment, Divider } from \"semantic-ui-react\";\r\nimport { Dimmer, Loader, List, Image } from 'semantic-ui-react';\r\nimport Chat from './Chat'\r\nimport ReactPlayer from 'react-player';\r\n\r\nclass StreamShow extends React.Component {\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    this.props.fetchStream(id);\r\n  }\r\n\r\n  render() {\r\n    if(this.props.stream.stream) {\r\n      const {title, description, stream_url, createdAt} = this.props.stream.stream[0]\r\n      return (\r\n        <div>\r\n          <Segment placeholder>\r\n        <Grid columns={2} stackable textAlign='left'>\r\n          <Grid.Row stretched>\r\n            <Grid.Column computer={11} textAlign='left'>\r\n              {!!stream_url && (\r\n                <div>\r\n                <ReactPlayer\r\n                  controls\r\n                  url={stream_url}\r\n                  className='react-player'\r\n                  playing = { false }\r\n                  width='100%'\r\n                  height='99%'\r\n                />\r\n              </div>\r\n              )}\r\n              {!stream_url && (\r\n                <Dimmer active inverted>\r\n                  <Loader inverted>Stream Loading</Loader>\r\n                </Dimmer>\r\n              )}\r\n            </Grid.Column>\r\n            <Divider vertical/>\r\n            <Grid.Column computer={3}>\r\n              <Chat />\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n          <List>\r\n            <List.Item>\r\n              <Image avatar src='https://i.pinimg.com/originals/8c/c4/92/8cc492be438c76b99371d691d23cff8f.jpg' />\r\n              <List.Content>\r\n                <List.Header as='a'>{title}</List.Header>\r\n                <List.Description>\r\n                  {description}\r\n                </List.Description>\r\n                <div style={{ fontSize: '10px'}}>\r\n                  {moment(createdAt).format(\"MM-DD-YYYY\")}\r\n                </div>\r\n              </List.Content>\r\n            </List.Item>\r\n          </List>\r\n        </Segment>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div>\r\n          <Dimmer active inverted>\r\n            <Loader inverted>Fetching stream details</Loader>\r\n          </Dimmer>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams, user: state.auth }\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchStream})(StreamShow);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {signIn, signOut} from '../actions';\r\n\r\nclass GoogleAuth extends React.Component {\r\n\r\n  componentDidMount() {\r\n    window.gapi.load('client:auth2', () => {\r\n      window.gapi.client.init({\r\n        clientId: '707277215236-p95mf7bmdvbptj68dnj6tpa9thfptrdf.apps.googleusercontent.com',\r\n        scope: 'email'\r\n      }).then(() => {\r\n        this.auth = window.gapi.auth2.getAuthInstance();\r\n\r\n        this.onAuthChange(this.auth.isSignedIn.get()); //calling onAuthChange passing a boolean parameter of signedIn\r\n        this.auth.isSignedIn.listen(this.onAuthChange);\r\n      })\r\n    });\r\n  }\r\n\r\n  onAuthChange = (isSignedIn) => {\r\n    //if true, call signIn action creator passing userId\r\n    if(isSignedIn) {\r\n      let userId = this.auth.currentUser.get().getId();\r\n      let userName = this.auth.currentUser.get().getBasicProfile().getName();\r\n      let userAvatar = this.generateAvatar(userName);\r\n      this.props.signIn(userId, userName, userAvatar);\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  generateAvatar = (userName) => {\r\n    let firstInitial = userName.charAt(0);\r\n    let whiteSpaceIndex = userName.indexOf(' ')\r\n    let secondInitial = userName.charAt(whiteSpaceIndex+1)\r\n    return firstInitial+secondInitial;\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  renderAuthButton() {\r\n    if(this.props.isSignedIn === null) {\r\n      return null\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n            Sign Out\r\n        </button>\r\n      )\r\n    } else {\r\n      return (\r\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n            Sign In with Google\r\n        </button>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div style={{ marginTop: '5px', marginBottom: '5px'}}>\r\n      {this.renderAuthButton()}\r\n    </div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {isSignedIn: state.auth.isSignedIn}\r\n}\r\n\r\nexport default connect(mapStateToProps, {signIn, signOut})(GoogleAuth);","import React from 'react';\r\nimport { Link }  from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth';\r\nimport { Header } from 'semantic-ui-react'\r\n\r\nconst HeaderContainer = () => {\r\n  return (\r\n    <div >\r\n      <div className=\"ui secondary pointing menu\" >\r\n        <Link to=\"/\" className=\"item\" style={{ marginLeft: '10px', fontSize: '16px', fontFamily: 'verdana'}}>\r\n          R6Streams\r\n        </Link>\r\n        <div className=\"right menu\" style={{ marginRight: '10px'}}>\r\n          <GoogleAuth />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport StreamCreate from './streams/StreamCreate';\r\nimport StreamEdit from './streams/StreamEdit';\r\nimport StreamDelete from './streams/StreamDelete';\r\nimport StreamList from './streams/StreamList';\r\nimport StreamShow from './streams/StreamShow';\r\nimport Header from './Header';\r\nimport history from '../history';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div>\r\n            <Router history={history}>\r\n                <Header/>\r\n                <div>\r\n                    <Switch>\r\n                        <Route path=\"/\" exact component={StreamList}/>\r\n                        <Route path=\"/streams/new\" exact component={StreamCreate}/>\r\n                        <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n                        <Route path=\"/streams/delete/:id\" exact component={StreamDelete}/>\r\n                        <Route path=\"/streams/:id\" exact component={StreamShow}/>\r\n                    </Switch>\r\n                </div>\r\n            </Router>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","import { SIGN_IN, SIGN_OUT } from '../actions/types';\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    //modifies redux state based on signedIn or signedOut\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userId: action.payloadId, userName: action.payloadName, userAvatar: action.payloadAvatar};\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userId: null};\r\n    default:\r\n      return state;  \r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport streamReducer from './streamReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  streams: streamReducer\r\n});","import _ from 'lodash';\r\nimport {\r\n  FETCH_STREAM,\r\n  FETCH_STREAMS,\r\n  CREATE_STREAM,\r\n  EDIT_STREAM,\r\n  DELETE_STREAM\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_STREAMS:\r\n      //since mapKeys is a big object, we use ...\r\n      //converts array of objects into an object of objects with each object having a key of id ( 1,2,3...)\r\n      return { ...state, streams : action.payload.data}\r\n    case FETCH_STREAM:\r\n      return { ...state, stream : action.payload.data}\r\n    case CREATE_STREAM:\r\n      return { ...state, stream : 'stream created'}\r\n    case EDIT_STREAM:\r\n      return { ...state, stream : 'stream edited'}\r\n    case DELETE_STREAM:\r\n      return _.omit(state, action.payload.data);\r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware, compose} from 'redux';\r\nimport reduxThunk from 'redux-thunk'\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducers,\r\n    composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n    <Provider store={store} >\r\n        <App />\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);\r\n\r\n"],"sourceRoot":""}